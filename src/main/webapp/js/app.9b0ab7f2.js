(function(e){function t(t){for(var r,s,i=t[0],l=t[1],d=t[2],u=0,p=[];u<i.length;u++)s=i[u],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&p.push(o[s][0]),o[s]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);c&&c(t);while(p.length)p.shift()();return n.push.apply(n,d||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],r=!0,i=1;i<a.length;i++){var l=a[i];0!==o[l]&&(r=!1)}r&&(n.splice(t--,1),e=s(s.s=a[0]))}return e}var r={},o={app:0},n=[];function s(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=r,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(a,r,function(t){return e[t]}.bind(null,r));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var d=0;d<i.length;d++)t(i[d]);var c=l;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var r=a("85ec"),o=a.n(r);o.a},"2c34":function(e,t,a){"use strict";var r=a("5e20"),o=a.n(r);o.a},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},n=[],s={name:"app",components:{}},i=s,l=(a("034f"),a("2877")),d=Object(l["a"])(i,o,n,!1,null,null,null),c=d.exports,u=a("8c4f"),p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-container",{staticClass:"home-container"},[r("el-header",[r("div",[r("img",{attrs:{src:a("cf05"),alt:"",width:"30px"}}),r("span",[e._v("新冠病毒报告生成系统")])])]),r("el-container",[r("el-aside",{attrs:{width:e.isCollapse?"64px":"200px"}},[r("div",{staticClass:"toggle-button",on:{click:e.toggleCollapse}},[e._v("|||")]),r("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":e.activePath,"background-color":"#373744","text-color":"#fff","active-text-color":"#409eff","unique-opened":"",collapse:e.isCollapse,"collapse-transition":!1,router:!0}},[r("el-submenu",{attrs:{index:"1"}},[r("template",{slot:"title"},[r("i",{staticClass:"el-icon-s-cooperation"}),r("span",[e._v("医院")])]),r("el-menu-item",{attrs:{index:"/hospitals"},on:{click:function(t){return e.saveNavState("/hospitals")}}},[r("template",{slot:"title"},[r("i",{staticClass:"el-icon-menu"}),r("span",[e._v("医院列表")])])],2),r("el-menu-item",{attrs:{index:"/departments"},on:{click:function(t){return e.saveNavState("/departments")}}},[r("template",{slot:"title"},[r("i",{staticClass:"el-icon-menu"}),r("span",[e._v("科室列表")])])],2),r("el-menu-item",{attrs:{index:"/doctors"},on:{click:function(t){return e.saveNavState("/doctors")}}},[r("template",{slot:"title"},[r("i",{staticClass:"el-icon-user-solid"}),r("span",[e._v("医生列表")])])],2)],2),r("el-submenu",{attrs:{index:"2"}},[r("template",{slot:"title"},[r("i",{staticClass:"el-icon-user-solid"}),r("span",[e._v("检测")])]),r("el-menu-item",{attrs:{index:"/specimen"},on:{click:function(t){return e.saveNavState("/specimen")}}},[r("template",{slot:"title"},[r("i",{staticClass:"el-icon-menu"}),r("span",[e._v("样本列表")])])],2)],2)],1)],1),r("el-main",[r("router-view")],1)],1)],1)},m=[],f={data:function(){return{isCollapse:!1,activePath:""}},methods:{toggleCollapse:function(){this.isCollapse=!this.isCollapse,window.sessionStorage.setItem("isCollapse",this.isCollapse)},saveNavState:function(e){window.sessionStorage.setItem("activePath",e),this.activePath=e}},created:function(){this.activePath=window.sessionStorage.getItem("activePath"),this.isCollapse=window.sessionStorage.getItem("isCollapse")}},h=f,g=(a("fc87"),Object(l["a"])(h,p,m,!1,null,"26179440",null)),b=g.exports,v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v("医院")]),a("el-breadcrumb-item",[e._v("医院列表")])],1),a("el-card",{staticClass:"box-card"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容"},model:{value:e.queryInfo.hosName,callback:function(t){e.$set(e.queryInfo,"hosName",t)},expression:"queryInfo.hosName"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.getHospitalList},slot:"append"})],1)],1)]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addDialogVisable=!0}}},[e._v("添加医院")])],1)])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.pageResult.rows,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-row",{staticClass:"vcenter"},[a("el-col",{attrs:{span:5}},[a("el-tag",[e._v(e._s(t.row.hosName))]),a("i",{staticClass:"el-icon-caret-right"})],1),a("el-col",{attrs:{span:19}},e._l(t.row.departmentList,(function(t,r){return a("el-row",{key:t+r,class:["bdbottom","vcenter"]},[a("el-col",{attrs:{span:5}},[a("el-tag",{attrs:{type:"success"}},[e._v(e._s(t.deptName))]),a("i",{staticClass:"el-icon-caret-right"})],1),a("el-col",{attrs:{span:19}},e._l(t.doctorList,(function(t,r){return a("el-tag",{key:t+r,attrs:{type:"warning"}},[e._v(e._s(t.docName))])})),1)],1)})),1)],1)]}}])}),a("el-table-column",{attrs:{type:"index",label:"#",width:"150"}}),a("el-table-column",{attrs:{prop:"hosName",label:"医院名称"}}),a("el-table-column",{attrs:{prop:"hosAddress",label:"医院地址"}}),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{attrs:{effect:"dark",content:"编辑",placement:"top",enterable:!1}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(a){return e.showEditDialog(t.row.hosId)}}})],1),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return e.deleteHospital(t.row.hosId)}}})]}}])})],1),a("el-pagination",{attrs:{"current-page":e.queryInfo.pageNum,"page-sizes":[5,10,15,20],"page-size":e.queryInfo.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pageResult.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),a("el-dialog",{attrs:{title:"添加医院",visible:e.addDialogVisable,width:"40%"},on:{"update:visible":function(t){e.addDialogVisable=t},close:e.addDialogClosed}},[a("el-form",{ref:"addFormRef",staticClass:"demo-addForm",attrs:{model:e.addForm,rules:e.addFormRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"医院名称",prop:"hosName"}},[a("el-input",{model:{value:e.addForm.hosName,callback:function(t){e.$set(e.addForm,"hosName",t)},expression:"addForm.hosName"}})],1),a("el-form-item",{attrs:{label:"医院地址",prop:"hosAddress"}},[a("el-input",{model:{value:e.addForm.hosAddress,callback:function(t){e.$set(e.addForm,"hosAddress",t)},expression:"addForm.hosAddress"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addDialogVisable=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addHosipital}},[e._v("确 定")])],1)],1)],1),a("el-dialog",{attrs:{title:"修改医院信息",visible:e.editDialogVisable,width:"40%"},on:{"update:visible":function(t){e.editDialogVisable=t},close:e.editDialogClosed}},[a("el-form",{ref:"editFormRef",staticClass:"demo-addForm",attrs:{model:e.editForm,rules:e.editFormRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"医院名称",prop:"hosName"}},[a("el-input",{model:{value:e.editForm.hosName,callback:function(t){e.$set(e.editForm,"hosName",t)},expression:"editForm.hosName"}})],1),a("el-form-item",{attrs:{label:"医院地址",prop:"hosAddress"}},[a("el-input",{model:{value:e.editForm.hosAddress,callback:function(t){e.$set(e.editForm,"hosAddress",t)},expression:"editForm.hosAddress"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.editDialogVisable=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.updateHospital}},[e._v("确 定")])],1)],1)],1)},y=[],I=(a("96cf"),a("1da1")),w={data:function(){return{pageResult:{total:0,rows:[]},queryInfo:{pageNum:1,pageSize:5,hosName:""},addDialogVisable:!1,addForm:{hosName:"",hosAddress:""},addFormRules:{hosName:[{required:!0,message:"请输入医院名",trigger:"blur"}]},editDialogVisable:!1,editForm:{hosId:0,hosName:"",hosAddress:""},editFormRules:{hosName:[{required:!0,message:"请输入医院名",trigger:"blur"}]}}},created:function(){this.getHospitalList()},methods:{handleSizeChange:function(e){this.queryInfo.pageSize=e,this.getHospitalList()},handleCurrentChange:function(e){this.queryInfo.pageNum=e,this.getHospitalList()},addDialogClosed:function(){this.$refs.addFormRef.resetFields()},addHosipital:function(){var e=this;this.$refs.addFormRef.validate(function(){var t=Object(I["a"])(regeneratorRuntime.mark((function t(a){var r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=10;break}return t.next=3,e.$http.post("hospital/save.do",e.addForm);case 3:if(r=t.sent,o=r.data,e.addDialogVisable=!1,!o.success){t.next=9;break}return e.getHospitalList(),t.abrupt("return",e.$message({message:"添加医院成功",type:"success"}));case 9:return t.abrupt("return",e.$message.error("添加医院失败"));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},showEditDialog:function(e){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function a(){var r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$http.post("hospital/getById.do?hosId="+e);case 2:r=a.sent,o=r.data,t.editForm=o,t.editDialogVisable=!0;case 6:case"end":return a.stop()}}),a)})))()},editDialogClosed:function(){this.$refs.editFormRef.resetFields()},getHospitalList:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("hospital/list.do?pageNum="+e.queryInfo.pageNum+"&pageSize="+e.queryInfo.pageSize,{hosName:e.queryInfo.hosName});case 2:a=t.sent,r=a.data,e.pageResult=r;case 5:case"end":return t.stop()}}),t)})))()},updateHospital:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$refs.editFormRef.validate(function(){var t=Object(I["a"])(regeneratorRuntime.mark((function t(a){var r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=10;break}return t.next=3,e.$http.post("hospital/update.do",e.editForm);case 3:if(r=t.sent,o=r.data,e.editDialogVisable=!1,!o.success){t.next=9;break}return e.getHospitalList(),t.abrupt("return",e.$message({message:"修改医院信息成功",type:"success"}));case 9:return t.abrupt("return",e.$message.error("修改医院信息失败"));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})))()},deleteHospital:function(e){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.$confirm("此操作将永久删除该医院, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(I["a"])(regeneratorRuntime.mark((function a(){var r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$http.post("hospital/delete.do?hosId="+e);case 2:if(r=a.sent,o=r.data,!o.success){a.next=7;break}return t.getHospitalList(),a.abrupt("return",t.$message({type:"success",message:"删除成功!"}));case 7:return a.abrupt("return",t.$message.error("删除医院信息失败"));case 8:case"end":return a.stop()}}),a)})))).catch((function(){t.$message({type:"info",message:"已取消删除"})}));case 1:case"end":return a.stop()}}),a)})))()}}},F=w,R=(a("92ae"),Object(l["a"])(F,v,y,!1,null,"4fe567a3",null)),k=R.exports,x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v("医院")]),a("el-breadcrumb-item",[e._v("医生列表")])],1),a("el-card",{staticClass:"box-card"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-select",{attrs:{placeholder:"请选择医院"},on:{change:e.searchHospitalSelectChanged},model:{value:e.queryInfo.hosId,callback:function(t){e.$set(e.queryInfo,"hosId",t)},expression:"queryInfo.hosId"}},[a("el-option",{key:"0",attrs:{label:"全部医院",value:"0"}}),e._l(e.hospitalList,(function(e){return a("el-option",{key:e.hosId,attrs:{label:e.hosName,value:e.hosId}})}))],2)],1)]),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-select",{attrs:{placeholder:"请选择科室"},on:{change:e.searchDepartmentSelectChanged},model:{value:e.queryInfo.deptId,callback:function(t){e.$set(e.queryInfo,"deptId",t)},expression:"queryInfo.deptId"}},[a("el-option",{key:"0",attrs:{label:"全部科室",value:"0"}}),e._l(e.departmentList,(function(e){return a("el-option",{key:e.deptId,attrs:{label:e.deptName,value:e.deptId}})}))],2)],1)]),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入医生名"},model:{value:e.queryInfo.docName,callback:function(t){e.$set(e.queryInfo,"docName",t)},expression:"queryInfo.docName"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.getDoctorList},slot:"append"})],1)],1)]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-button",{attrs:{type:"primary"},on:{click:e.showAddDialog}},[e._v("添加医生")])],1)])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.pageResult.rows,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"index",label:"#",width:"150"}}),a("el-table-column",{attrs:{prop:"department.hospital.hosName",label:"医院名称"}}),a("el-table-column",{attrs:{prop:"department.deptName",label:"科室名称"}}),a("el-table-column",{attrs:{prop:"docName",label:"医生名称"}}),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{attrs:{effect:"dark",content:"编辑",placement:"top",enterable:!1}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(a){return e.showEditDialog(t.row.docId)}}})],1),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return e.deleteDoctor(t.row.docId)}}})]}}])})],1),a("el-pagination",{attrs:{"current-page":e.queryInfo.pageNum,"page-sizes":[5,10,15,20],"page-size":e.queryInfo.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pageResult.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),a("el-dialog",{attrs:{title:"添加医生",visible:e.addDialogVisable,width:"40%"},on:{"update:visible":function(t){e.addDialogVisable=t},close:e.addDialogClosed}},[a("el-form",{ref:"addFormRef",staticClass:"demo-addForm",attrs:{model:e.addForm,rules:e.addFormRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"医院名称"}},[a("el-select",{attrs:{placeholder:"请选择医院"},on:{change:e.searchHospitalSelectChanged},model:{value:e.addForm.hosId,callback:function(t){e.$set(e.addForm,"hosId",t)},expression:"addForm.hosId"}},e._l(e.hospitalList,(function(e){return a("el-option",{key:e.hosId,attrs:{label:e.hosName,value:e.hosId}})})),1)],1),a("el-form-item",{attrs:{label:"科室名称"}},[a("el-select",{attrs:{placeholder:"请选择科室"},model:{value:e.addForm.deptId,callback:function(t){e.$set(e.addForm,"deptId",t)},expression:"addForm.deptId"}},e._l(e.departmentList,(function(e){return a("el-option",{key:e.deptId,attrs:{label:e.deptName,value:e.deptId}})})),1)],1),a("el-form-item",{attrs:{label:"医生名称",prop:"docName"}},[a("el-input",{model:{value:e.addForm.docName,callback:function(t){e.$set(e.addForm,"docName",t)},expression:"addForm.docName"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addDialogVisable=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addDoctor}},[e._v("确 定")])],1)],1)],1),a("el-dialog",{attrs:{title:"修改医生信息",visible:e.editDialogVisable,width:"40%"},on:{"update:visible":function(t){e.editDialogVisable=t},close:e.editDialogClosed}},[a("el-form",{ref:"editFormRef",staticClass:"demo-editForm",attrs:{model:e.editForm,rules:e.editFormRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"医院名称"}},[a("el-select",{attrs:{placeholder:"请选择医院"},on:{change:e.editHospitalChanged},model:{value:e.editForm.department.hosId,callback:function(t){e.$set(e.editForm.department,"hosId",t)},expression:"editForm.department.hosId"}},e._l(e.hospitalList,(function(e){return a("el-option",{key:e.hosId,attrs:{label:e.hosName,value:e.hosId}})})),1)],1),a("el-form-item",{attrs:{label:"科室名称"}},[a("el-select",{attrs:{placeholder:"请选择科室"},model:{value:e.editForm.deptId,callback:function(t){e.$set(e.editForm,"deptId",t)},expression:"editForm.deptId"}},e._l(e.departmentList,(function(e){return a("el-option",{key:e.deptId,attrs:{label:e.deptName,value:e.deptId}})})),1)],1),a("el-form-item",{attrs:{label:"医生名称",prop:"docName"}},[a("el-input",{model:{value:e.editForm.docName,callback:function(t){e.$set(e.editForm,"docName",t)},expression:"editForm.docName"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.editDialogVisable=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.updateDoctor}},[e._v("确 定")])],1)],1)],1)},$=[],N={data:function(){return{pageResult:{total:0,rows:[]},hospitalList:[{hosId:""}],departmentList:[{deptId:""}],queryInfo:{docName:"",pageNum:1,pageSize:5,hosId:"",deptId:""},addDialogVisable:!1,addForm:{hosId:"",deptId:"",docName:""},addFormRules:{docName:[{required:!0,message:"请输入医生名",trigger:"blur"}]},editDialogVisable:!1,editForm:{docId:"",department:{hosId:0},docName:""},editFormRules:{docName:[{required:!0,message:"请输入医生名",trigger:"blur"}]}}},created:function(){this.getDoctorList(),this.getHospitalList()},methods:{handleSizeChange:function(e){this.queryInfo.pageSize=e,this.getDoctorList()},handleCurrentChange:function(e){this.queryInfo.pageNum=e,this.getDoctorList()},addDialogClosed:function(){this.$refs.addFormRef.resetFields()},addDoctor:function(){var e=this;this.$refs.addFormRef.validate(function(){var t=Object(I["a"])(regeneratorRuntime.mark((function t(a){var r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=10;break}return t.next=3,e.$http.post("doctor/save.do",e.addForm);case 3:if(r=t.sent,o=r.data,e.addDialogVisable=!1,!o.success){t.next=9;break}return e.getDoctorList(),t.abrupt("return",e.$message({message:"添加医生成功",type:"success"}));case 9:return t.abrupt("return",e.$message.error("添加医生失败"));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},showEditDialog:function(e){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function a(){var r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$http.post("doctor/getById.do?docId="+e);case 2:r=a.sent,o=r.data,t.getHospitalList(),t.editForm=o,t.editDialogVisable=!0;case 7:case"end":return a.stop()}}),a)})))()},editDialogClosed:function(){this.$refs.editFormRef.resetFields()},getHospitalList:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("hospital/list.do?pageNum="+e.queryInfo.pageNum+"&pageSize="+e.queryInfo.pageSize,{hosName:""});case 2:a=t.sent,r=a.data,e.hospitalList=r.rows;case 5:case"end":return t.stop()}}),t)})))()},getDepartmentList:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("department/listAll.do",{hosId:e.queryInfo.hosId});case 2:a=t.sent,r=a.data,e.departmentList=r;case 5:case"end":return t.stop()}}),t)})))()},showAddDialog:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.getHospitalList(),e.getDepartmentList(),""!==e.queryInfo.hosId&&"0"!==e.queryInfo.hosId?e.addForm.hosId=e.queryInfo.hosId:e.addForm.hosId=e.hospitalList[0].hosId,""!==e.queryInfo.deptId&&"0"!==e.queryInfo.deptId?e.addForm.deptId=e.queryInfo.deptId:e.addForm.deptId=e.hospitalList[0].deptId,e.addDialogVisable=!0;case 5:case"end":return t.stop()}}),t)})))()},getDoctorList:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("doctor/list.do?pageNum="+e.queryInfo.pageNum+"&pageSize="+e.queryInfo.pageSize,{docName:e.queryInfo.docName,deptId:e.queryInfo.deptId});case 2:a=t.sent,r=a.data,e.pageResult=r;case 5:case"end":return t.stop()}}),t)})))()},updateDoctor:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$refs.editFormRef.validate(function(){var t=Object(I["a"])(regeneratorRuntime.mark((function t(a){var r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=10;break}return t.next=3,e.$http.post("doctor/update.do",e.editForm);case 3:if(r=t.sent,o=r.data,e.editDialogVisable=!1,!o.success){t.next=9;break}return e.getDoctorList(),t.abrupt("return",e.$message({message:"修改医生信息成功",type:"success"}));case 9:return t.abrupt("return",e.$message.error("修改医生信息失败"));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})))()},deleteDoctor:function(e){var t=this;this.$confirm("此操作将永久删除该医生, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(I["a"])(regeneratorRuntime.mark((function a(){var r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$http.post("doctor/delete.do?docId="+e);case 2:if(r=a.sent,o=r.data,!o.success){a.next=7;break}return t.getDoctorList(),a.abrupt("return",t.$message({type:"success",message:"删除成功!"}));case 7:return a.abrupt("return",t.$message.error("删除失败"));case 8:case"end":return a.stop()}}),a)})))).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},searchHospitalSelectChanged:function(){this.getDepartmentList(),this.getDoctorList()},editHospitalChanged:function(){}}},D=N,C=Object(l["a"])(D,x,$,!1,null,"6d92e64a",null),_=C.exports,L=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v("医院")]),a("el-breadcrumb-item",[e._v("科室列表")])],1),a("el-card",{staticClass:"box-card"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-select",{attrs:{placeholder:"请选择医院"},on:{change:e.searchHospitalSelectChanged},model:{value:e.queryInfo.hosId,callback:function(t){e.$set(e.queryInfo,"hosId",t)},expression:"queryInfo.hosId"}},[a("el-option",{key:"0",attrs:{label:"全部医院",value:"0"}}),e._l(e.hospitalList,(function(e){return a("el-option",{key:e.hosId,attrs:{label:e.hosName,value:e.hosId}})}))],2)],1)]),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入科室名"},model:{value:e.queryInfo.deptName,callback:function(t){e.$set(e.queryInfo,"deptName",t)},expression:"queryInfo.deptName"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.getDepartmentList},slot:"append"})],1)],1)]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-button",{attrs:{type:"primary"},on:{click:e.showAddDialog}},[e._v("添加科室")])],1)])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.pageResult.rows,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"index",label:"#",width:"150"}}),a("el-table-column",{attrs:{prop:"hospital.hosName",label:"医院名称"}}),a("el-table-column",{attrs:{prop:"deptName",label:"科室名称"}}),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{attrs:{effect:"dark",content:"编辑",placement:"top",enterable:!1}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(a){return e.showEditDialog(t.row.deptId)}}})],1),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return e.deleteDepartment(t.row.deptId)}}})]}}])})],1),a("el-pagination",{attrs:{"current-page":e.queryInfo.pageNum,"page-sizes":[5,10,15,20],"page-size":e.queryInfo.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pageResult.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),a("el-dialog",{attrs:{title:"添加科室",visible:e.addDialogVisable,width:"40%"},on:{"update:visible":function(t){e.addDialogVisable=t},close:e.addDialogClosed}},[a("el-form",{ref:"addFormRef",staticClass:"demo-addForm",attrs:{model:e.addForm,rules:e.addFormRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"医院名称"}},[a("el-select",{attrs:{placeholder:"请选择医院"},model:{value:e.addForm.hosId,callback:function(t){e.$set(e.addForm,"hosId",t)},expression:"addForm.hosId"}},e._l(e.hospitalList,(function(e){return a("el-option",{key:e.hosId,attrs:{label:e.hosName,value:e.hosId}})})),1)],1),a("el-form-item",{attrs:{label:"科室名称",prop:"deptName"}},[a("el-input",{model:{value:e.addForm.deptName,callback:function(t){e.$set(e.addForm,"deptName",t)},expression:"addForm.deptName"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addDialogVisable=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addDepartment}},[e._v("确 定")])],1)],1)],1),a("el-dialog",{attrs:{title:"修改科室信息",visible:e.editDialogVisable,width:"40%"},on:{"update:visible":function(t){e.editDialogVisable=t},close:e.editDialogClosed}},[a("el-form",{ref:"editFormRef",staticClass:"demo-addForm",attrs:{model:e.editForm,rules:e.editFormRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"医院名称"}},[a("el-select",{attrs:{placeholder:"请选择医院"},model:{value:e.editForm.hospital.hosId,callback:function(t){e.$set(e.editForm.hospital,"hosId",t)},expression:"editForm.hospital.hosId"}},[a("el-option",{key:"0",attrs:{label:"全部医院",value:"0"}}),e._l(e.hospitalList,(function(e){return a("el-option",{key:e.hosId,attrs:{label:e.hosName,value:e.hosId}})}))],2)],1),a("el-form-item",{attrs:{label:"科室名称",prop:"deptName"}},[a("el-input",{model:{value:e.editForm.deptName,callback:function(t){e.$set(e.editForm,"deptName",t)},expression:"editForm.deptName"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.editDialogVisable=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.updateDepartment}},[e._v("确 定")])],1)],1)],1)},q=[],T={data:function(){return{pageResult:{total:0,rows:[]},hospitalList:[{hosId:""}],queryInfo:{deptName:"",pageNum:1,pageSize:5,hosId:""},addDialogVisable:!1,addForm:{hosId:"",deptId:"",deptName:""},addFormRules:{deptName:[{required:!0,message:"请输入科室名",trigger:"blur"}]},editDialogVisable:!1,editForm:{hospital:{hosId:"",hosName:"",hosAddress:""},deptId:"",deptName:""},editFormRules:{deptName:[{required:!0,message:"请输入科室名",trigger:"blur"}]}}},created:function(){this.getDepartmentList(),this.getHospitalList()},methods:{handleSizeChange:function(e){this.queryInfo.pageSize=e,this.getDepartmentList()},handleCurrentChange:function(e){this.queryInfo.pageNum=e,this.getDepartmentList()},addDialogClosed:function(){this.$refs.addFormRef.resetFields()},addDepartment:function(){var e=this;this.$refs.addFormRef.validate(function(){var t=Object(I["a"])(regeneratorRuntime.mark((function t(a){var r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=10;break}return t.next=3,e.$http.post("department/save.do",e.addForm);case 3:if(r=t.sent,o=r.data,e.addDialogVisable=!1,!o.success){t.next=9;break}return e.getDepartmentList(),t.abrupt("return",e.$message({message:"添加科室成功",type:"success"}));case 9:return t.abrupt("return",e.$message.error("添加科室失败"));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},showEditDialog:function(e){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function a(){var r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$http.post("department/getById.do?deptId="+e);case 2:r=a.sent,o=r.data,t.getHospitalList(),t.editForm=o,t.editDialogVisable=!0;case 7:case"end":return a.stop()}}),a)})))()},editDialogClosed:function(){this.$refs.editFormRef.resetFields()},getHospitalList:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("hospital/listAll.do",{hosName:""});case 2:a=t.sent,r=a.data,e.hospitalList=r;case 5:case"end":return t.stop()}}),t)})))()},showAddDialog:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.getHospitalList(),""!==e.queryInfo.hosId&&"0"!==e.queryInfo.hosId?e.addForm.hosId=e.queryInfo.hosId:e.addForm.hosId=e.hospitalList[0].hosId,e.addDialogVisable=!0;case 3:case"end":return t.stop()}}),t)})))()},getDepartmentList:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("department/list.do?pageNum="+e.queryInfo.pageNum+"&pageSize="+e.queryInfo.pageSize,{deptName:e.queryInfo.deptName,hosId:e.queryInfo.hosId});case 2:a=t.sent,r=a.data,e.pageResult=r;case 5:case"end":return t.stop()}}),t)})))()},updateDepartment:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$refs.editFormRef.validate(function(){var t=Object(I["a"])(regeneratorRuntime.mark((function t(a){var r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=10;break}return t.next=3,e.$http.post("department/update.do",e.editForm);case 3:if(r=t.sent,o=r.data,e.editDialogVisable=!1,!o.success){t.next=9;break}return e.getDepartmentList(),t.abrupt("return",e.$message({message:"修改科室信息成功",type:"success"}));case 9:return t.abrupt("return",e.$message.error("修改科室信息失败"));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})))()},deleteDepartment:function(e){var t=this;this.$confirm("此操作将永久删除该科室, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(I["a"])(regeneratorRuntime.mark((function a(){var r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$http.post("department/delete.do?deptId="+e);case 2:if(r=a.sent,o=r.data,!o.success){a.next=7;break}return t.getDepartmentList(),a.abrupt("return",t.$message({type:"success",message:"删除成功!"}));case 7:return a.abrupt("return",t.$message.error("删除失败"));case 8:case"end":return a.stop()}}),a)})))).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},searchHospitalSelectChanged:function(){this.getDepartmentList()}}},S=T,V=Object(l["a"])(S,L,q,!1,null,"b0568256",null),z=V.exports,j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v("检测样本")]),a("el-breadcrumb-item",[e._v("检测样本列表")])],1),a("el-card",{staticClass:"box-card"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("div",[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入样本条码"},on:{change:e.getSpecimenList},model:{value:e.queryInfo.specimenCode,callback:function(t){e.$set(e.queryInfo,"specimenCode",t)},expression:"queryInfo.specimenCode"}})],1)]),a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{placeholder:"选择样本类型"},on:{"visible-change":function(t){return e.$forceUpdate()}},model:{value:e.queryInfo.specimenTypeId,callback:function(t){e.$set(e.queryInfo,"specimenTypeId",t)},expression:"queryInfo.specimenTypeId"}},[a("el-option",{key:"",attrs:{label:"全部",value:""}}),e._l(e.specimenTypeList,(function(e){return a("el-option",{key:e.dictId,attrs:{label:e.dictValue,value:e.dictId}})}))],2)],1),a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{placeholder:"是否生成报告"},on:{"visible-change":function(t){return e.$forceUpdate()}},model:{value:e.queryInfo.specimenStatusId,callback:function(t){e.$set(e.queryInfo,"specimenStatusId",t)},expression:"queryInfo.specimenStatusId"}},[a("el-option",{key:"",attrs:{label:"全部",value:""}}),a("el-option",{key:"0",attrs:{label:"未生成报告",value:"0"}}),a("el-option",{key:"1",attrs:{label:"生成报告",value:"1"}})],1)],1),a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{placeholder:"选择检测项目"},on:{"visible-change":function(t){return e.$forceUpdate()}},model:{value:e.queryInfo.testTypeId,callback:function(t){e.$set(e.queryInfo,"testTypeId",t)},expression:"queryInfo.testTypeId"}},e._l(e.testTypeList,(function(e){return a("el-option",{key:e.dictId,attrs:{label:e.dictValue,value:e.dictId}})})),1)],1)],1),a("br"),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:7}},[a("div",[a("center",{staticClass:"date-title"},[e._v("采样日期")]),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"截至日期","unlink-panels":"",format:"yyyy年MM月dd日","value-format":"yyyy年MM月dd日"},on:{blur:function(t){return e.$forceUpdate()}},model:{value:e.queryInfo.createTimeRange,callback:function(t){e.$set(e.queryInfo,"createTimeRange",t)},expression:"queryInfo.createTimeRange"}})],1)]),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"block"},[a("center",{staticClass:"date-title"},[e._v("接收日期")]),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"截至日期","unlink-panels":"",format:"yyyy年MM月dd日","value-format":"yyyy年MM月dd日"},on:{blur:function(t){return e.$forceUpdate()}},model:{value:e.queryInfo.recvTimeRange,callback:function(t){e.$set(e.queryInfo,"recvTimeRange",t)},expression:"queryInfo.recvTimeRange"}})],1)]),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"block"},[a("center",{staticClass:"date-title"},[e._v("报告生成日期")]),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"截至日期","unlink-panels":"",format:"yyyy年MM月dd日","value-format":"yyyy年MM月dd日",disabled:1!=e.queryInfo.specimenStatusId},on:{blur:function(t){return e.$forceUpdate()}},model:{value:e.queryInfo.reportTimeRange,callback:function(t){e.$set(e.queryInfo,"reportTimeRange",t)},expression:"queryInfo.reportTimeRange"}})],1)])],1),a("br"),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[a("div",[a("el-select",{attrs:{placeholder:"选择送检医院",filterable:"",remote:"","remote-method":e.getHospitalList},on:{change:function(t){return e.getDepartmentListByHosId(e.queryInfo.hosId)},"visible-change":function(t){return e.$forceUpdate()}},model:{value:e.queryInfo.hosId,callback:function(t){e.$set(e.queryInfo,"hosId",t)},expression:"queryInfo.hosId"}},[a("el-option",{key:"",attrs:{label:"全部",value:""}}),e._l(e.hospitalList,(function(e){return a("el-option",{key:e.hosId,attrs:{label:e.hosName,value:e.hosId}})}))],2)],1)]),a("el-col",{attrs:{span:4}},[a("div",[a("el-select",{attrs:{placeholder:"选择送检科室"},on:{"visible-change":function(t){return e.$forceUpdate()}},model:{value:e.queryInfo.deptId,callback:function(t){e.$set(e.queryInfo,"deptId",t)},expression:"queryInfo.deptId"}},[a("el-option",{key:"",attrs:{label:"全部",value:""}}),e._l(e.departmentList,(function(e){return a("el-option",{key:e.deptId,attrs:{label:e.deptName,value:e.deptId}})}))],2)],1)]),a("el-col",{attrs:{span:4}},[a("div",[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"病人名字"},on:{change:e.getSpecimenList},model:{value:e.queryInfo.patientName,callback:function(t){e.$set(e.queryInfo,"patientName",t)},expression:"queryInfo.patientName"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.getSpecimenList},slot:"append"})],1)],1)]),a("el-col",{attrs:{span:3}},[a("div",[a("el-button",{attrs:{type:"primary"},on:{click:e.showAddDialog}},[e._v("添加检测样本")])],1)]),a("el-col",{attrs:{span:5}},[a("div",[a("el-upload",{staticClass:"upload-demo",attrs:{name:"uploadFile",action:e.$http.defaults.baseURL+"specimen/uploadFromFile.do","on-success":e.batchImportSuccess}},[a("el-button",{attrs:{type:"success"}},[e._v("从Excel导入")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传指定格式的csv后缀的文件")])],1)],1)])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.pageResult.rows,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-table",{staticStyle:{width:"100%"},attrs:{data:[t.row],border:"",stripe:""}},[a("el-table-column",{attrs:{prop:"specimenSituation.dictValue",label:"样本情况"}}),a("el-table-column",{attrs:{prop:"patientAge",label:"患者年龄"}}),a("el-table-column",{attrs:{prop:"patientGender",label:"患者性别"}}),a("el-table-column",{attrs:{prop:"patientTellphone",label:"联系电话"}}),a("el-table-column",{attrs:{prop:"bedNum",label:"床位"}}),1==t.row.specimenStatusId?a("el-table-column",{attrs:{prop:"report.specimenResult.dictValue",label:"检测结果"}}):e._e(),1==t.row.specimenStatusId?a("el-table-column",{attrs:{prop:"report.referenceValue.dictValue",label:"参考值"}}):e._e(),1==t.row.specimenStatusId?a("el-table-column",{attrs:{prop:"report.reporter.managerName",label:"报告者"}}):e._e(),1==t.row.specimenStatusId?a("el-table-column",{attrs:{prop:"report.reviewer.managerName",label:"审核者"}}):e._e()],1)]}}])}),a("el-table-column",{attrs:{type:"index",label:"#",width:"43"}}),a("el-table-column",{attrs:{prop:"specimenCode",label:"样本码"}}),a("el-table-column",{attrs:{prop:"specimenType.dictValue",label:"样本类型"}}),a("el-table-column",{attrs:{prop:"testType.dictValue",label:"检测项目"}}),a("el-table-column",{attrs:{prop:"patientName",label:"患者姓名"}}),a("el-table-column",{attrs:{prop:"patientAge",label:"年龄"}}),a("el-table-column",{attrs:{prop:"patientGender",label:"性别",width:"43"}}),a("el-table-column",{attrs:{prop:"specimenStatusId",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.specimenStatusId?a("span",[e._v("已生成报告")]):e._e(),0==t.row.specimenStatusId?a("span",[e._v("未生成报告")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"hospital.hosName",label:"医院"}}),a("el-table-column",{attrs:{prop:"department.deptName",label:"科室"}}),a("el-table-column",{attrs:{prop:"doctor.docName",label:"医生"}}),a("el-table-column",{attrs:{prop:"doctor.doorNum",label:"门诊号"}}),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间"}}),a("el-table-column",{attrs:{prop:"recvTime",label:"接收时间"}}),a("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{attrs:{effect:"dark",content:0==t.row.specimenStatusId?"生成报告":"编辑报告",placement:"top",enterable:!1}},[a("el-button",{attrs:{type:"success",icon:"el-icon-document-checked",size:"mini"},on:{click:function(a){0==t.row.specimenStatusId?e.showAddReportDialog(t.row.specimenId,t.row.testTypeId):e.showEditReportDialog(t.row.report.reportId,t.row.specimenId,t.row.testTypeId)}}})],1),a("el-tooltip",{attrs:{effect:"dark",content:"编辑标本",placement:"top",enterable:!1}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(a){return e.showEditDialog(t.row.specimenId)}}})],1),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return e.deleteSpecimen(t.row.specimenId)}}})]}}])})],1),a("el-pagination",{attrs:{"current-page":e.queryInfo.pageNum,"page-sizes":[5,10,15,20],"page-size":e.queryInfo.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pageResult.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),a("el-dialog",{attrs:{title:"添加检测样本",visible:e.addDialogVisable},on:{"update:visible":function(t){e.addDialogVisable=t},close:e.addDialogClosed}},[a("el-form",{ref:"addFormRef",staticClass:"demo-addForm",attrs:{model:e.addForm,rules:e.addFormRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"样本条码",prop:"specimenCode"}},[a("el-input",{ref:"specimenCodeRef",model:{value:e.addForm.specimenCode,callback:function(t){e.$set(e.addForm,"specimenCode",t)},expression:"addForm.specimenCode"}})],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"检测项目",prop:"testTypeId"}},[a("el-select",{attrs:{placeholder:"选择检测项目"},on:{"visible-change":function(t){return e.$forceUpdate()},change:function(t){return e.addFormTestTypeChanged()}},model:{value:e.addForm.testTypeId,callback:function(t){e.$set(e.addForm,"testTypeId",t)},expression:"addForm.testTypeId"}},e._l(e.testTypeList,(function(e){return a("el-option",{key:e.dictId,attrs:{label:e.dictValue,value:e.dictId}})})),1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"样本类型",prop:"specimenTypeId"}},[a("el-select",{attrs:{placeholder:"选择样本类型"},on:{"visible-change":function(t){return e.$forceUpdate()}},model:{value:e.addForm.specimenTypeId,callback:function(t){e.$set(e.addForm,"specimenTypeId",t)},expression:"addForm.specimenTypeId"}},e._l(e.specimenTypeList,(function(e){return a("el-option",{key:e.dictId,attrs:{label:e.dictValue,value:e.dictId}})})),1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"样本状况",prop:"specimenSituationId"}},[a("el-select",{attrs:{placeholder:"选择样本状况"},on:{"visible-change":function(t){return e.$forceUpdate()}},model:{value:e.addForm.specimenSituationId,callback:function(t){e.$set(e.addForm,"specimenSituationId",t)},expression:"addForm.specimenSituationId"}},e._l(e.specimenSituationList,(function(e){return a("el-option",{key:e.dictId,attrs:{label:e.dictValue,value:e.dictId}})})),1)],1)],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"送检医院",prop:"hosId"}},[a("el-select",{attrs:{placeholder:"选择送检医院",filterable:"",remote:"","remote-method":e.getHospitalList},on:{change:function(t){return e.getDepartmentListByHosId(e.addForm.hosId)},"visible-change":function(t){return e.$forceUpdate()}},model:{value:e.addForm.hosId,callback:function(t){e.$set(e.addForm,"hosId",t)},expression:"addForm.hosId"}},e._l(e.hospitalList,(function(t){return a("el-option",{key:t.hosId,attrs:{label:t.hosName,value:t.hosId},on:{"visible-change":function(t){return e.$forceUpdate()}}})})),1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"送检科室",prop:"deptId"}},[a("el-select",{attrs:{placeholder:"选择送检科室"},on:{change:function(t){return e.getDoctorListByDeptId(e.addForm.deptId)},"visible-change":function(t){return e.$forceUpdate()}},model:{value:e.addForm.deptId,callback:function(t){e.$set(e.addForm,"deptId",t)},expression:"addForm.deptId"}},e._l(e.departmentList,(function(e){return a("el-option",{key:e.deptId,attrs:{label:e.deptName,value:e.deptId}})})),1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"送检医生",prop:"docId"}},[a("el-select",{attrs:{placeholder:"选择送检医生"},model:{value:e.addForm.docId,callback:function(t){e.$set(e.addForm,"docId",t)},expression:"addForm.docId"}},e._l(e.doctorList,(function(t){return a("el-option",{key:t.docId,attrs:{label:t.docName,value:t.docId},on:{"visible-change":function(t){return e.$forceUpdate()}}})})),1)],1)],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"门诊号",prop:"doorNum"}},[a("el-input",{model:{value:e.addForm.doorNum,callback:function(t){e.$set(e.addForm,"doorNum",t)},expression:"addForm.doorNum"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"床位号",prop:"bedNum"}},[a("el-input",{model:{value:e.addForm.bedNum,callback:function(t){e.$set(e.addForm,"bedNum",t)},expression:"addForm.bedNum"}})],1)],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"患者姓名",prop:"patientName"}},[a("el-input",{model:{value:e.addForm.patientName,callback:function(t){e.$set(e.addForm,"patientName",t)},expression:"addForm.patientName"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"患者年龄",prop:"patientAge"}},[a("el-input",{model:{value:e.addForm.patientAge,callback:function(t){e.$set(e.addForm,"patientAge",t)},expression:"addForm.patientAge"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"患者性别",prop:"patientGender"}},[a("el-select",{attrs:{placeholder:"选择病人性别"},on:{"visible-change":function(t){return e.$forceUpdate()}},model:{value:e.addForm.patientGender,callback:function(t){e.$set(e.addForm,"patientGender",t)},expression:"addForm.patientGender"}},[a("el-option",{key:"男",attrs:{label:"男",value:"男"}}),a("el-option",{key:"女",attrs:{label:"女",value:"女"}})],1)],1)],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"联系方式",prop:"patientTellphone"}},[a("el-input",{model:{value:e.addForm.patientTellphone,callback:function(t){e.$set(e.addForm,"patientTellphone",t)},expression:"addForm.patientTellphone"}})],1)],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"采样时间",prop:"recvTime"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy年MM月dd日","value-format":"yyyy年MM月dd日"},on:{blur:function(t){return e.$forceUpdate()}},model:{value:e.addForm.recvTime,callback:function(t){e.$set(e.addForm,"recvTime",t)},expression:"addForm.recvTime"}})],1)],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"创建时间",prop:"createTime"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy年MM月dd日","value-format":"yyyy年MM月dd日"},on:{blur:function(t){return e.$forceUpdate()}},model:{value:e.addForm.createTime,callback:function(t){e.$set(e.addForm,"createTime",t)},expression:"addForm.createTime"}})],1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addDialogVisable=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addSpecimen}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"编辑检测样本",visible:e.editDialogVisable},on:{"update:visible":function(t){e.editDialogVisable=t},close:e.editDialogClosed}},[a("el-form",{ref:"editFormRef",staticClass:"demo-editForm",attrs:{model:e.editForm,rules:e.editFormRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"样本条码",prop:"specimenCode"}},[a("el-input",{model:{value:e.editForm.specimenCode,callback:function(t){e.$set(e.editForm,"specimenCode",t)},expression:"editForm.specimenCode"}})],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"检测项目",prop:"testTypeId"}},[a("el-select",{attrs:{placeholder:"选择检测项目"},on:{change:e.editFormTestTypeChanged,"visible-change":function(t){return e.$forceUpdate()}},model:{value:e.editForm.testTypeId,callback:function(t){e.$set(e.editForm,"testTypeId",t)},expression:"editForm.testTypeId"}},e._l(e.testTypeList,(function(e){return a("el-option",{key:e.dictId,attrs:{label:e.dictValue,value:e.dictId}})})),1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"样本类型",prop:"specimenTypeId"}},[a("el-select",{attrs:{placeholder:"选择样本类型"},on:{"visible-change":function(t){return e.$forceUpdate()}},model:{value:e.editForm.specimenTypeId,callback:function(t){e.$set(e.editForm,"specimenTypeId",t)},expression:"editForm.specimenTypeId"}},e._l(e.specimenTypeList,(function(e){return a("el-option",{key:e.dictId,attrs:{label:e.dictValue,value:e.dictId}})})),1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"样本状况",prop:"specimenSituationId"}},[a("el-select",{attrs:{placeholder:"选择样本状况"},on:{"visible-change":function(t){return e.$forceUpdate()}},model:{value:e.editForm.specimenSituationId,callback:function(t){e.$set(e.editForm,"specimenSituationId",t)},expression:"editForm.specimenSituationId"}},e._l(e.specimenSituationList,(function(e){return a("el-option",{key:e.dictId,attrs:{label:e.dictValue,value:e.dictId}})})),1)],1)],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"送检医院",prop:"hosId"}},[a("el-select",{attrs:{placeholder:"选择送检医院",filterable:"",remote:"","remote-method":e.getHospitalList},on:{change:function(t){return e.getDepartmentListByHosId(e.editForm.hosId)},"visible-change":function(t){return e.$forceUpdate()}},model:{value:e.editForm.hosId,callback:function(t){e.$set(e.editForm,"hosId",t)},expression:"editForm.hosId"}},e._l(e.hospitalList,(function(e){return a("el-option",{key:e.hosId,attrs:{label:e.hosName,value:e.hosId}})})),1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"送检科室",prop:"deptId"}},[a("el-select",{attrs:{placeholder:"选择送检科室"},on:{change:function(t){return e.getDoctorListByDeptId(e.editForm.deptId)},"visible-change":function(t){return e.$forceUpdate()}},model:{value:e.editForm.deptId,callback:function(t){e.$set(e.editForm,"deptId",t)},expression:"editForm.deptId"}},e._l(e.departmentList,(function(e){return a("el-option",{key:e.deptId,attrs:{label:e.deptName,value:e.deptId}})})),1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"送检医生",prop:"docId"}},[a("el-select",{attrs:{placeholder:"选择送检医生"},on:{"visible-change":function(t){return e.$forceUpdate()}},model:{value:e.editForm.docId,callback:function(t){e.$set(e.editForm,"docId",t)},expression:"editForm.docId"}},e._l(e.doctorList,(function(e){return a("el-option",{key:e.docId,attrs:{label:e.docName,value:e.docId}})})),1)],1)],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"门诊号",prop:"doorNum"}},[a("el-input",{model:{value:e.editForm.doorNum,callback:function(t){e.$set(e.editForm,"doorNum",t)},expression:"editForm.doorNum"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"床位号",prop:"bedNum"}},[a("el-input",{model:{value:e.editForm.bedNum,callback:function(t){e.$set(e.editForm,"bedNum",t)},expression:"editForm.bedNum"}})],1)],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"患者姓名",prop:"patientName"}},[a("el-input",{model:{value:e.editForm.patientName,callback:function(t){e.$set(e.editForm,"patientName",t)},expression:"editForm.patientName"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"患者年龄",prop:"patientAge"}},[a("el-input",{model:{value:e.editForm.patientAge,callback:function(t){e.$set(e.editForm,"patientAge",t)},expression:"editForm.patientAge"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"患者性别",prop:"patientGender"}},[a("el-select",{attrs:{placeholder:"选择病人性别"},on:{"visible-change":function(t){return e.$forceUpdate()}},model:{value:e.editForm.patientGender,callback:function(t){e.$set(e.editForm,"patientGender",t)},expression:"editForm.patientGender"}},[a("el-option",{key:"男",attrs:{label:"男",value:"男"}}),a("el-option",{key:"女",attrs:{label:"女",value:"女"}})],1)],1)],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"联系方式",prop:"patientTellphone"}},[a("el-input",{model:{value:e.editForm.patientTellphone,callback:function(t){e.$set(e.editForm,"patientTellphone",t)},expression:"editForm.patientTellphone"}})],1)],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"采样时间",prop:"createTime"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy年MM月dd日","value-format":"yyyy年MM月dd日"},on:{blur:function(t){return e.$forceUpdate()}},model:{value:e.editForm.createTime,callback:function(t){e.$set(e.editForm,"createTime",t)},expression:"editForm.createTime"}})],1)],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"接收时间",prop:"recvTime"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy年MM月dd日","value-format":"yyyy年MM月dd日"},on:{blur:function(t){return e.$forceUpdate()}},model:{value:e.editForm.recvTime,callback:function(t){e.$set(e.editForm,"recvTime",t)},expression:"editForm.recvTime"}})],1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.editDialogVisable=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.editSpecimen}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"生成报告",visible:e.addReportDialogVisable,width:"35%"},on:{"update:visible":function(t){e.addReportDialogVisable=t},close:e.addReportDialogClosed}},[a("el-form",{ref:"addReportFormRef",staticClass:"demo-addReportForm",attrs:{model:e.addReportForm,rules:e.addReportFormRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"报告结果",prop:"specimenResultId"}},[a("el-select",{staticStyle:{width:"90%"},attrs:{placeholder:"选择报告结果"},on:{"visible-change":function(t){return e.$forceUpdate()}},model:{value:e.addReportForm.specimenResultId,callback:function(t){e.$set(e.addReportForm,"specimenResultId",t)},expression:"addReportForm.specimenResultId"}},e._l(e.specimenResultList,(function(e){return a("el-option",{key:e.dictId,attrs:{label:e.dictValue,value:e.dictId}})})),1)],1),a("el-form-item",{attrs:{label:"参考值",prop:"referenceValueId"}},[a("el-select",{staticStyle:{width:"90%"},attrs:{placeholder:"选择参考值"},on:{"visible-change":function(t){return e.$forceUpdate()}},model:{value:e.addReportForm.referenceValueId,callback:function(t){e.$set(e.addReportForm,"referenceValueId",t)},expression:"addReportForm.referenceValueId"}},e._l(e.specimenResultList,(function(e){return a("el-option",{key:e.dictId,attrs:{label:e.dictValue,value:e.dictId}})})),1)],1),a("el-form-item",{attrs:{label:"报告者",prop:"reporterId"}},[a("el-select",{attrs:{placeholder:"选择报告者"},on:{"visible-change":function(t){return e.$forceUpdate()}},model:{value:e.addReportForm.reporterId,callback:function(t){e.$set(e.addReportForm,"reporterId",t)},expression:"addReportForm.reporterId"}},e._l(e.reporterList,(function(e){return a("el-option",{key:e.managerId,attrs:{label:e.managerName,value:e.managerId}})})),1)],1),a("el-form-item",{attrs:{label:"审核者",prop:"reviewerId"}},[a("el-select",{attrs:{placeholder:"选择审核者"},on:{"visible-change":function(t){return e.$forceUpdate()}},model:{value:e.addReportForm.reviewerId,callback:function(t){e.$set(e.addReportForm,"reviewerId",t)},expression:"addReportForm.reviewerId"}},e._l(e.reviewerList,(function(e){return a("el-option",{key:e.managerId,attrs:{label:e.managerName,value:e.managerId}})})),1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addReportDialogVisable=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addReport}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"编辑报告",visible:e.editReportDialogVisable,width:"35%"},on:{"update:visible":function(t){e.editReportDialogVisable=t},close:e.editReportDialogClosed}},[a("el-form",{ref:"editReportFormRef",staticClass:"demo-editReportForm",attrs:{model:e.editReportForm,rules:e.editReportFormRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"报告结果",prop:"specimenResultId"}},[a("el-select",{staticStyle:{width:"90%"},attrs:{placeholder:"选择报告结果"},on:{"visible-change":function(t){return e.$forceUpdate()}},model:{value:e.editReportForm.specimenResultId,callback:function(t){e.$set(e.editReportForm,"specimenResultId",t)},expression:"editReportForm.specimenResultId"}},e._l(e.specimenResultList,(function(e){return a("el-option",{key:e.dictId,attrs:{label:e.dictValue,value:e.dictId}})})),1)],1),a("el-form-item",{attrs:{label:"参考值",prop:"referenceValueId"}},[a("el-select",{staticStyle:{width:"90%"},attrs:{placeholder:"选择参考值"},on:{"visible-change":function(t){return e.$forceUpdate()}},model:{value:e.editReportForm.referenceValueId,callback:function(t){e.$set(e.editReportForm,"referenceValueId",t)},expression:"editReportForm.referenceValueId"}},e._l(e.specimenResultList,(function(e){return a("el-option",{key:e.dictId,attrs:{label:e.dictValue,value:e.dictId}})})),1)],1),a("el-form-item",{attrs:{label:"报告者",prop:"reporterId"}},[a("el-select",{attrs:{placeholder:"选择报告者"},on:{"visible-change":function(t){return e.$forceUpdate()}},model:{value:e.editReportForm.reporterId,callback:function(t){e.$set(e.editReportForm,"reporterId",t)},expression:"editReportForm.reporterId"}},e._l(e.reporterList,(function(e){return a("el-option",{key:e.managerId,attrs:{label:e.managerName,value:e.managerId}})})),1)],1),a("el-form-item",{attrs:{label:"审核者",prop:"reviewerId"}},[a("el-select",{attrs:{placeholder:"选择审核者"},on:{"visible-change":function(t){return e.$forceUpdate()}},model:{value:e.editReportForm.reviewerId,callback:function(t){e.$set(e.editReportForm,"reviewerId",t)},expression:"editReportForm.reviewerId"}},e._l(e.reviewerList,(function(e){return a("el-option",{key:e.managerId,attrs:{label:e.managerName,value:e.managerId}})})),1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.editReportDialogVisable=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.editReport}},[e._v("确 定")])],1)],1)],1)},O=[],A=(a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),{data:function(){return{pageResult:{total:0,rows:[]},queryInfo:{pageNum:1,pageSize:5,specimenCode:"",createTime:"",recvTime:"",reportTime:""},addDialogVisable:!1,addForm:{specimenCode:"",hosId:"",deptId:"",docId:"",bedNum:"",doorNum:"",patientName:"",patientAge:"",patientTellphone:"",patientGender:"",specimenTypeId:"",specimenSituationId:"",specimenStatusId:0},addFormRules:{specimenCode:[{required:!0,message:"请输入样本条码",trigger:"blur"}],createTime:[{required:!0,message:"请选择采样日期",trigger:"blur"}],recvTime:[{required:!0,message:"请输入接收时间",trigger:"blur"}]},editDialogVisable:!1,editForm:{specimenCode:"",hosId:"",deptId:"",docId:"",bedNum:"",doorNum:"",patientName:"",patientAge:"",patientTellphone:"",patientGender:"",specimenTypeId:"",specimenSituationId:"",specimenStatusId:0},editFormRules:{specimenCode:[{required:!0,message:"请输入检测样本名",trigger:"blur"}],createTime:[{required:!0,message:"请选择采样日期",trigger:"blur"}],recvTime:[{required:!0,message:"请输入接收时间",trigger:"blur"}]},addReportDialogVisable:!1,addReportForm:{referenceValueId:"",reporterId:"",reviewerId:""},addReportFormRules:{},editReportDialogVisable:!1,editReportForm:{referenceValueId:"",reporterId:"",reviewerId:""},editReportFormRules:{},specimenResultList:[{dictId:0,dictName:"",dictValue:""}],testTypeList:[{dictId:0,dictName:"",dictValue:""}],reporterList:[{managerId:0,managerName:"",managerType:""}],reviewerList:[{managerId:0,managerName:"",managerType:""}],specimenTypeList:[{dictId:0,dictName:"",dictValue:""}],specimenSituationList:[{dictId:0,dictName:"",dictValue:""}],hospitalList:[],departmentList:[],doctorList:[]}},created:function(){var e=this;this.getSpecimenList(),this.listAllDictionary({dictName:"specimen_type"}).then((function(t){e.specimenTypeList=t})),this.listAllDictionary({dictName:"test_types"}).then((function(t){e.testTypeList=t})),this.getHospitalList(),this.getDepartmentListByHosId(0),this.addForm.createTime=this.getNowDate(),this.addForm.recvTime=this.getNowDate()},methods:{handleSizeChange:function(e){this.queryInfo.pageSize=e,this.getSpecimenList()},handleCurrentChange:function(e){this.queryInfo.pageNum=e,this.getSpecimenList()},addDialogClosed:function(){this.addForm.specimenCode="",this.addForm.patientName="",this.addForm.patientAge="",this.addForm.patientTellphone="",this.addForm.doorNum="",this.addForm.bedNum=""},getNowDate:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1,r=e.getDate();return a<10&&(a="0"+a),r<10&&(r="0"+r),t+"年"+a+"月"+r+"日"},addReport:function(){var e=this;this.$http.post("report/save.do",this.addReportForm,{responseType:"arraybuffer"}).then(function(){var t=Object(I["a"])(regeneratorRuntime.mark((function t(a){var r,o,n,s,i,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=new Blob([a.data],{type:"application/pdf;"}),o=document.createElement("a"),n=window.URL.createObjectURL(r),o.href=n,t.next=6,e.$http.post("specimen/getDetailsById.do?specimenId="+e.addReportForm.specimenId);case 6:return s=t.sent,i=s.data,l=i.specimenCode+"-"+i.patientName+"-"+i.testType.dictValue,o.download=decodeURIComponent(l),document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(n),e.getSpecimenList(),e.addReportDialogVisable=!1,t.abrupt("return",e.$message({message:"报告保存成功",type:"success"}));case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},editReport:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$http.post("report/update.do",e.editReportForm,{responseType:"arraybuffer"}).then(function(){var t=Object(I["a"])(regeneratorRuntime.mark((function t(a){var r,o,n,s,i,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=new Blob([a.data],{type:"application/pdf;"}),o=document.createElement("a"),n=window.URL.createObjectURL(r),o.href=n,t.next=6,e.$http.post("specimen/getDetailsById.do?specimenId="+e.editReportForm.specimenId);case 6:return s=t.sent,i=s.data,l=i.specimenCode+"-"+i.patientName+"-"+i.testType.dictValue,o.download=decodeURIComponent(l),document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(n),e.getSpecimenList(),e.editReportDialogVisable=!1,t.abrupt("return",e.$message({message:"报告更新成功",type:"success"}));case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})))()},showEditDialog:function(e){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function a(){var r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.listAllDictionary({dictName:"specimen_situation"}).then((function(e){t.specimenSituationList=e})),t.listAllDictionary({dictName:"test_types"}).then((function(e){t.testTypeList=e})),t.getHospitalList(),t.getDepartmentListByHosId(0),t.getDoctorListByDeptId(0),a.next=7,t.$http.post("specimen/getById.do?specimenId="+e);case 7:r=a.sent,o=r.data,t.listAllDictionary({dictName:o.testTypeId+"_specimen_type"}).then((function(e){t.specimenTypeList=e})),t.editForm=o,t.editDialogVisable=!0;case 12:case"end":return a.stop()}}),a)})))()},editDialogClosed:function(){this.$refs.editFormRef.resetFields()},getSpecimenList:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return null!==e.queryInfo.createTimeRange&&""!==e.queryInfo.createTimeRange&&Array.isArray(e.queryInfo.createTimeRange)&&(e.queryInfo.createTime=e.queryInfo.createTimeRange[0]+"--"+e.queryInfo.createTimeRange[1]),null!==e.queryInfo.recvTimeRange&&""!==e.queryInfo.recvTimeRange&&Array.isArray(e.queryInfo.recvTimeRange)&&(e.queryInfo.recvTime=e.queryInfo.recvTimeRange[0]+"--"+e.queryInfo.recvTimeRange[1]),null!==e.queryInfo.reportTimeRange&&""!==e.queryInfo.reportTimeRange&&Array.isArray(e.queryInfo.reportTimeRange)&&(e.queryInfo.reportTime=e.queryInfo.reportTimeRange[0]+"--"+e.queryInfo.reportTimeRange[1]),t.next=5,e.$http.post("specimen/list.do?pageNum="+e.queryInfo.pageNum+"&pageSize="+e.queryInfo.pageSize,{specimenCode:e.queryInfo.specimenCode,patientName:e.queryInfo.patientName,testTypeId:e.queryInfo.testTypeId,specimenTypeId:e.queryInfo.specimenTypeId,specimenStatusId:e.queryInfo.specimenStatusId,hosId:e.queryInfo.hosId,deptId:e.queryInfo.deptId,createTime:e.queryInfo.createTime,recvTime:e.queryInfo.recvTime});case 5:a=t.sent,r=a.data,e.pageResult=r;case 8:case"end":return t.stop()}}),t)})))()},editSpecimen:function(){var e=this;this.$refs.editFormRef.validate(function(){var t=Object(I["a"])(regeneratorRuntime.mark((function t(a){var r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=10;break}return t.next=3,e.$http.post("specimen/update.do",e.editForm);case 3:if(r=t.sent,o=r.data,e.editDialogVisable=!1,!o.success){t.next=9;break}return e.getSpecimenList(),t.abrupt("return",e.$message({message:o.message,type:"success"}));case 9:return t.abrupt("return",e.$message.error(o.message));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},deleteSpecimen:function(e){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.$confirm("此操作将永久删除该检测样本, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(I["a"])(regeneratorRuntime.mark((function a(){var r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$http.post("specimen/delete.do?specimenId="+e);case 2:if(r=a.sent,o=r.data,t.getSpecimenList(),!o.success){a.next=7;break}return a.abrupt("return",t.$message({type:"success",message:o.message}));case 7:return a.abrupt("return",t.$message.error(o.message));case 8:case"end":return a.stop()}}),a)})))).catch((function(){t.$message({type:"info",message:"已取消删除"})}));case 1:case"end":return a.stop()}}),a)})))()},getManagerList:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){var a,r,o,n,s,i,l,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("dictionary/list.do",{dictName:"manager_type_reporter"});case 2:return a=t.sent,r=a.data,t.next=6,e.$http.post("manager/listAll.do",{managerType:r[0].dictId});case 6:return o=t.sent,n=o.data,e.reporterList=n,t.next=11,e.$http.post("dictionary/list.do",{dictName:"manager_type_reviewer"});case 11:return s=t.sent,i=s.data,t.next=15,e.$http.post("manager/listAll.do",{managerType:i[0].dictId});case 15:l=t.sent,d=l.data,e.reviewerList=d;case 18:case"end":return t.stop()}}),t)})))()},showAddReportDialog:function(e,t){var a=this;return Object(I["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:a.addReportForm.specimenId=e,a.listAllDictionary({dictName:t+"_result"}).then((function(e){a.specimenResultList=e,a.addReportForm.specimenResultId=e[0].dictId,a.addReportForm.referenceValueId=e[0].dictId})),a.getManagerList().then((function(e){a.addReportForm.reporterId=a.reporterList[0].managerId,a.addReportForm.reviewerId=a.reviewerList[0].managerId})),a.addReportDialogVisable=!0;case 4:case"end":return r.stop()}}),r)})))()},showEditReportDialog:function(e,t,a){var r=this;return Object(I["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:r.editReportForm.reportId=e,r.editReportForm.specimenId=t,r.listAllDictionary({dictName:a+"_result"}).then((function(e){r.specimenResultList=e,r.editReportForm.specimenResultId=r.specimenResultList[0].dictId,r.editReportForm.referenceValueId=r.specimenResultList[0].dictId})),r.getManagerList().then((function(e){r.editReportForm.reporterId=r.reporterList[0].managerId,r.editReportForm.reviewerId=r.reviewerList[0].managerId})),r.editReportDialogVisable=!0;case 5:case"end":return o.stop()}}),o)})))()},addReportDialogClosed:function(){this.$refs.addReportFormRef.resetFields()},editReportDialogClosed:function(){this.$refs.editReportFormRef.resetFields()},diagnosticItemSelectChanged:function(e){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function a(){var r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$http.post("dictionary/list.do",{dictName:e+"_result"});case 2:r=a.sent,o=r.data,t.specimenResultList=o,t.addReportForm.specimenResultId=o[0].dictId,t.addReportForm.referenceValueId=o[0].dictId;case 7:case"end":return a.stop()}}),a)})))()},listAllDictionary:function(e){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function a(){var r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$http.post("dictionary/list.do",e);case 2:return r=a.sent,o=r.data,a.abrupt("return",o);case 5:case"end":return a.stop()}}),a)})))()},getHospitalList:function(e){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function a(){var r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$http.post("hospital/listAll.do",{hosName:e});case 2:r=a.sent,o=r.data,t.hospitalList=o;case 5:case"end":return a.stop()}}),a)})))()},showAddDialog:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.listAllDictionary({dictName:"test_types"}).then((function(t){return e.testTypeList=t,e.listAllDictionary({dictName:t[0].dictId+"_specimen_type"})})).then((function(t){e.specimenTypeList=t})),e.listAllDictionary({dictName:"specimen_situation"}).then((function(t){e.specimenSituationList=t})),e.addDialogVisable=!0,e.$nextTick((function(){this.$refs.specimenCodeRef.focus()}));case 4:case"end":return t.stop()}}),t)})))()},addSpecimen:function(){var e=this;this.$refs.addFormRef.validate(function(){var t=Object(I["a"])(regeneratorRuntime.mark((function t(a){var r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=10;break}return t.next=3,e.$http.post("specimen/save.do",e.addForm);case 3:if(r=t.sent,o=r.data,e.addDialogVisable=!1,!o.success){t.next=9;break}return e.getSpecimenList(),t.abrupt("return",e.$message({message:o.message,type:"success"}));case 9:return t.abrupt("return",e.$message.error(o.message));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},getDepartmentListByHosId:function(e){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function a(){var r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$http.post("department/listAll.do?",{hosId:e});case 2:r=a.sent,o=r.data,t.departmentList=o;case 5:case"end":return a.stop()}}),a)})))()},getDoctorListByDeptId:function(e){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function a(){var r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$http.post("doctor/listAll.do",{docName:"",deptId:e});case 2:r=a.sent,o=r.data,t.doctorList=o;case 5:case"end":return a.stop()}}),a)})))()},addFormTestTypeChanged:function(){var e=this;this.listAllDictionary({dictName:this.addForm.testTypeId+"_specimen_type"}).then((function(t){e.specimenTypeList=t,e.addForm.specimenTypeId=t[0].dictId}))},editFormTestTypeChanged:function(){var e=this;this.listAllDictionary({dictName:this.editForm.testTypeId+"_specimen_type"}).then((function(t){e.specimenTypeList=t,e.editForm.specimenTypeId=t[0].dictId}))},batchImportSuccess:function(e,t){return e.success?(this.getSpecimenList(),this.$message({message:e.message,type:"success"})):this.$message.error(e.message)}},directives:{focus:{inserted:function(e,t){var a="el-input",r="input",o=t.value||!0;o="boolean"===typeof o?{cls:a,tag:r,foc:o}:{cls:o.cls||a,tag:o.tag||r,foc:o.foc||!1},e.classList.contains(o.cls)&&o.foc&&e.getElementsByTagName(o.tag)[0].focus()}}}}),H=A,U=(a("2c34"),Object(l["a"])(H,j,O,!1,null,"4ab7700a",null)),M=U.exports,B=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v("报告")]),a("el-breadcrumb-item",[e._v("报告列表")])],1),a("el-card",{staticClass:"box-card"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容"},model:{value:e.queryInfo.hosName,callback:function(t){e.$set(e.queryInfo,"hosName",t)},expression:"queryInfo.hosName"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.getHospitalList},slot:"append"})],1)],1)]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addDialogVisable=!0}}},[e._v("添加报告")])],1)])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.pageResult.rows,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.departments))]}}])}),a("el-table-column",{attrs:{type:"index",label:"#",width:"150"}}),a("el-table-column",{attrs:{prop:"hosName",label:"报告名称"}}),a("el-table-column",{attrs:{prop:"hosAddress",label:"报告地址"}}),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{attrs:{effect:"dark",content:"编辑",placement:"top",enterable:!1}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(a){return e.showEditDialog(t.row.hosId)}}})],1),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return e.deleteHospital(t.row.hosId)}}})]}}])})],1),a("el-pagination",{attrs:{"current-page":e.queryInfo.pageNum,"page-sizes":[5,10,15,20],"page-size":e.queryInfo.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pageResult.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),a("el-dialog",{attrs:{title:"添加报告",visible:e.addDialogVisable,width:"40%"},on:{"update:visible":function(t){e.addDialogVisable=t},close:e.addDialogClosed}},[a("el-form",{ref:"addFormRef",staticClass:"demo-addForm",attrs:{model:e.addForm,rules:e.addFormRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"报告名称",prop:"hosName"}},[a("el-input",{model:{value:e.addForm.hosName,callback:function(t){e.$set(e.addForm,"hosName",t)},expression:"addForm.hosName"}})],1),a("el-form-item",{attrs:{label:"报告地址",prop:"hosAddress"}},[a("el-input",{model:{value:e.addForm.hosAddress,callback:function(t){e.$set(e.addForm,"hosAddress",t)},expression:"addForm.hosAddress"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addDialogVisable=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addHosipital}},[e._v("确 定")])],1)],1)],1),a("el-dialog",{attrs:{title:"修改报告信息",visible:e.editDialogVisable,width:"40%"},on:{"update:visible":function(t){e.editDialogVisable=t},close:e.editDialogClosed}},[a("el-form",{ref:"editFormRef",staticClass:"demo-addForm",attrs:{model:e.editForm,rules:e.editFormRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"报告名称",prop:"hosName"}},[a("el-input",{model:{value:e.editForm.hosName,callback:function(t){e.$set(e.editForm,"hosName",t)},expression:"editForm.hosName"}})],1),a("el-form-item",{attrs:{label:"报告地址",prop:"hosAddress"}},[a("el-input",{model:{value:e.editForm.hosAddress,callback:function(t){e.$set(e.editForm,"hosAddress",t)},expression:"editForm.hosAddress"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.editDialogVisable=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.updateHospital}},[e._v("确 定")])],1)],1)],1)},E=[],P={data:function(){return{pageResult:{total:0,rows:[]},queryInfo:{pageNum:1,pageSize:5,hosName:""},addDialogVisable:!1,addForm:{hosName:"",hosAddress:""},addFormRules:{hosName:[{required:!0,message:"请输入报告名",trigger:"blur"}]},editDialogVisable:!1,editForm:{hosId:0,hosName:"",hosAddress:""},editFormRules:{hosName:[{required:!0,message:"请输入报告名",trigger:"blur"}]}}},created:function(){this.getHospitalList()},methods:{handleSizeChange:function(e){this.queryInfo.pageSize=e,this.getHospitalList()},handleCurrentChange:function(e){this.queryInfo.pageNum=e,this.getHospitalList()},addDialogClosed:function(){this.$refs.addFormRef.resetFields()},addHosipital:function(){var e=this;this.$refs.addFormRef.validate(function(){var t=Object(I["a"])(regeneratorRuntime.mark((function t(a){var r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=10;break}return t.next=3,e.$http.post("hospital/save.do",e.addForm);case 3:if(r=t.sent,o=r.data,e.addDialogVisable=!1,!o.success){t.next=9;break}return e.getHospitalList(),t.abrupt("return",e.$message({message:"添加报告成功",type:"success"}));case 9:return t.abrupt("return",e.$message.error("添加报告失败"));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},showEditDialog:function(e){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function a(){var r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$http.post("hospital/getById.do?hosId="+e);case 2:r=a.sent,o=r.data,t.editForm=o,t.editDialogVisable=!0;case 6:case"end":return a.stop()}}),a)})))()},editDialogClosed:function(){this.$refs.editFormRef.resetFields()},getHospitalList:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("report/list.do?pageNum="+e.queryInfo.pageNum+"&pageSize="+e.queryInfo.pageSize,{specimenId:""});case 2:a=t.sent,a.data;case 4:case"end":return t.stop()}}),t)})))()},updateHospital:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$refs.editFormRef.validate(function(){var t=Object(I["a"])(regeneratorRuntime.mark((function t(a){var r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=10;break}return t.next=3,e.$http.post("hospital/update.do",e.editForm);case 3:if(r=t.sent,o=r.data,e.editDialogVisable=!1,!o.success){t.next=9;break}return e.getHospitalList(),t.abrupt("return",e.$message({message:"修改报告信息成功",type:"success"}));case 9:return t.abrupt("return",e.$message.error("修改报告信息失败"));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})))()},deleteHospital:function(e){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.$confirm("此操作将永久删除该报告, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(I["a"])(regeneratorRuntime.mark((function a(){var r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$http.post("hospital/delete.do?hosId="+e);case 2:if(r=a.sent,o=r.data,!o.success){a.next=7;break}return t.getHospitalList(),a.abrupt("return",t.$message({type:"success",message:"删除成功!"}));case 7:return a.abrupt("return",t.$message.error("删除报告信息失败"));case 8:case"end":return a.stop()}}),a)})))).catch((function(){t.$message({type:"info",message:"已取消删除"})}));case 1:case"end":return a.stop()}}),a)})))()}}},G=P,J=Object(l["a"])(G,B,E,!1,null,"7e51ec95",null),Y=J.exports,K=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v("操作")]),a("el-breadcrumb-item",[e._v("报告列表")])],1),a("el-card",{staticClass:"box-card"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容"},model:{value:e.queryInfo.searchEntity.hosName,callback:function(t){e.$set(e.queryInfo.searchEntity,"hosName",t)},expression:"queryInfo.searchEntity.hosName"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],1)],1)]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addDialogVisable=!0}}},[e._v("添加样本")])],1)])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.hospitalList,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"index",label:"#",width:"50"}}),a("el-table-column",{attrs:{prop:"hos_name",label:"医院名称",width:"180"}}),a("el-table-column",{attrs:{prop:"uuid",label:"uuid",width:"180"}}),a("el-table-column",{attrs:{prop:"level",label:"等级"}}),a("el-table-column",{attrs:{prop:"hos_path",label:"隶属"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{attrs:{effect:"dark",content:"编辑",placement:"top",enterable:!1}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(a){return e.showEditDialog(t.row.hos_name)}}})],1),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"}})]}}])})],1),a("el-pagination",{attrs:{"current-page":e.queryInfo.pageNum,"page-sizes":[1,2,5,10],"page-size":e.queryInfo.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),a("el-dialog",{attrs:{title:"添加医院",visible:e.addDialogVisable,width:"40%"},on:{"update:visible":function(t){e.addDialogVisable=t},close:e.addDialogClosed}},[a("el-form",{ref:"addFormRef",staticClass:"demo-addForm",attrs:{model:e.addForm,rules:e.addFormRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"医院名称",prop:"hosName"}},[a("el-input",{model:{value:e.addForm.hosName,callback:function(t){e.$set(e.addForm,"hosName",t)},expression:"addForm.hosName"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addDialogVisable=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addHosipital}},[e._v("确 定")])],1)],1)],1),a("el-dialog",{attrs:{title:"修改医院信息",visible:e.editDialogVisable,width:"40%"},on:{"update:visible":function(t){e.editDialogVisable=t},close:e.editDialogClosed}},[a("el-form",{ref:"editFormRef",staticClass:"demo-addForm",attrs:{model:e.editForm,rules:e.editFormRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"医院名称",prop:"hosName"}},[a("el-input",{model:{value:e.addForm.hosName,callback:function(t){e.$set(e.addForm,"hosName",t)},expression:"addForm.hosName"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.editDialogVisable=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addHosipital}},[e._v("确 定")])],1)],1)],1)},Q=[],W={data:function(){return{hospitalList:[{hos_name:"医院1",uuid:"1234564789",level:"三甲医院",hos_path:"省级"},{hos_name:"医院1",uuid:"1234564789",level:"三甲医院",hos_path:"省级"},{hos_name:"医院1",uuid:"1234564789",level:"三甲医院",hos_path:"省级"},{hos_name:"医院1",uuid:"1234564789",level:"三甲医院",hos_path:"省级"},{hos_name:"医院1",uuid:"1234564789",level:"三甲医院",hos_path:"省级"},{hos_name:"医院1",uuid:"1234564789",level:"三甲医院",hos_path:"省级"},{hos_name:"医院1",uuid:"1234564789",level:"三甲医院",hos_path:"省级"}],queryInfo:{hos_name:"",pageNum:1,pageSize:2,searchEntity:{hosName:""}},total:4,addDialogVisable:!1,addForm:{hosName:""},addFormRules:{hosName:[{required:!0,message:"请输入医院名",trigger:"blur"}]},editDialogVisable:!1,editForm:{hosName:""},editFormRules:{hosName:[{required:!0,message:"请输入医院名",trigger:"blur"}]}}},created:function(){},methods:{handleSizeChange:function(e){this.queryInfo.pageSize=e},handleCurrentChange:function(e){this.queryInfo.pageNum=e},addDialogClosed:function(){this.$refs.addFormRef.resetFields()},addHosipital:function(){this.addDialogVisable=!1,this.$refs.addFormRef.validate((function(e){}))},showEditDialog:function(e){this.editDialogVisable=!0},editDialogClosed:function(){this.$refs.editFormRef.resetFields()}}},X=W,Z=Object(l["a"])(X,K,Q,!1,null,"aaf74212",null),ee=Z.exports;r["default"].use(u["a"]);var te=[{path:"/",redirect:"/home"},{path:"/home",component:b,children:[{path:"/hospitals",component:k},{path:"/doctors",component:_},{path:"/departments",component:z},{path:"/specimen",component:M},{path:"/report",component:Y},{path:"/managers",component:ee}]}],ae=new u["a"]({routes:te}),re=ae,oe=(a("9e1f"),a("450d"),a("6ed5")),ne=a.n(oe),se=(a("0fb7"),a("f529")),ie=a.n(se),le=(a("f225"),a("89a9")),de=a.n(le),ce=(a("826b"),a("c263")),ue=a.n(ce),pe=(a("cbb5"),a("8bbc")),me=a.n(pe),fe=(a("eca7"),a("3787")),he=a.n(fe),ge=(a("425f"),a("4105")),be=a.n(ge),ve=(a("a7cc"),a("df33")),ye=a.n(ve),Ie=(a("672e"),a("101e")),we=a.n(Ie),Fe=(a("0c67"),a("299c")),Re=a.n(Fe),ke=(a("5466"),a("ecdf")),xe=a.n(ke),$e=(a("38a0"),a("ad41")),Ne=a.n($e),De=(a("f4f9"),a("c2cc")),Ce=a.n(De),_e=(a("7a0f"),a("0f6c")),Le=a.n(_e),qe=(a("6611"),a("e772")),Te=a.n(qe),Se=(a("1f1a"),a("4e4b")),Ve=a.n(Se),ze=(a("10cb"),a("f3ad")),je=a.n(ze),Oe=(a("b8e0"),a("a4c4")),Ae=a.n(Oe),He=(a("b84d"),a("c216")),Ue=a.n(He),Me=(a("8f24"),a("76b9")),Be=a.n(Me),Ee=(a("8bd8"),a("4cb2")),Pe=a.n(Ee),Ge=(a("34db"),a("3803")),Je=a.n(Ge),Ye=(a("ce18"),a("f58e")),Ke=a.n(Ye),Qe=(a("4ca3"),a("443e")),We=a.n(Qe),Xe=(a("de31"),a("c69e")),Ze=a.n(Xe),et=(a("a769"),a("5cc3")),tt=a.n(et),at=(a("a673"),a("7b31")),rt=a.n(at),ot=(a("adec"),a("3d2d")),nt=a.n(ot),st=(a("1951"),a("eedf")),it=a.n(st);r["default"].use(it.a),r["default"].use(nt.a),r["default"].use(rt.a),r["default"].use(tt.a),r["default"].use(Ze.a),r["default"].use(We.a),r["default"].use(Ke.a),r["default"].use(Je.a),r["default"].use(Pe.a),r["default"].use(Be.a),r["default"].use(Ue.a),r["default"].use(Ae.a),r["default"].use(je.a),r["default"].use(Ve.a),r["default"].use(Te.a),r["default"].use(Le.a),r["default"].use(Ce.a),r["default"].use(Ne.a),r["default"].use(xe.a),r["default"].use(Re.a),r["default"].use(we.a),r["default"].use(ye.a),r["default"].use(be.a),r["default"].use(he.a),r["default"].use(me.a),r["default"].use(ue.a),r["default"].use(de.a),r["default"].prototype.$message=ie.a,r["default"].prototype.$confirm=ne.a.confirm;a("aede");var lt=a("bc3a"),dt=a.n(lt);dt.a.defaults.baseURL="http://192.168.10.70:8080/ncovreportsystem/",r["default"].config.productionTip=!1,r["default"].prototype.$http=dt.a,new r["default"]({router:re,render:function(e){return e(c)}}).$mount("#app")},5868:function(e,t,a){},"5e20":function(e,t,a){},"7c14":function(e,t,a){},"85ec":function(e,t,a){},"92ae":function(e,t,a){"use strict";var r=a("7c14"),o=a.n(r);o.a},aede:function(e,t,a){},cf05:function(e,t,a){e.exports=a.p+"img/logo.82b9c7a5.png"},fc87:function(e,t,a){"use strict";var r=a("5868"),o=a.n(r);o.a}});
//# sourceMappingURL=app.9b0ab7f2.js.map